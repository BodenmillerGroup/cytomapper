---
title: "Zarr support for cytomapper"
date: "`r BiocStyle::doc_date()`"
package: "`r BiocStyle::pkg_ver('cytomapper')`"
author:
- name: Nils Eling
  affiliation: 
  - Department for Quantitative Biomedicine, University of Zurich
  - Institute for Molecular Health Sciences, ETH Zurich
  email: nils.eling@dqbm.uzh.ch
output:
    BiocStyle::html_document:
        toc_float: yes
bibliography: library.bib
abstract: |
    TODO
vignette: |
    %\VignetteIndexEntry{"On disk storage of images"}
    %\VignetteEngine{knitr::rmarkdown}
    %\VignetteEncoding{UTF-8}
---

```{r, echo=FALSE, results="hide"}
knitr::opts_chunk$set(error=FALSE, warning=FALSE, message=FALSE,
                        fig.retina = 0.75, crop = NULL)
library(BiocStyle)
```

```{r library, echo=FALSE}
library(cytomapper)
library(zellkonverter)
```

# SpatialData

```{r, eval=FALSE}
images <- readImagesFromZARR("~/Github/spatialdata-notebooks/notebooks/developers_resources/storage_format/multiple_elements.zarr/", 
                   type = "spatialdata")

images <- readImagesFromZARR("https://dl01.irc.ugent.be/spatial/mibitof/data.zarr/", 
                   type = "spatialdata")

```

# OME NGFF

```{r,eval=FALSE}
images <- readImagesFromZARR("https://uk1s3.embassy.ebi.ac.uk/idr/zarr/v0.4/idr0052A/5514375.zarr", 
                   type = "omengff")

images <- readImagesFromZARR("~/Desktop/5514375.zarr/", 
                   type = "omengff", z = 10, t = 10)

plotPixels(images, colour_by = c("NCAPD2", "DNA", "NEG_Dextran"))
```

